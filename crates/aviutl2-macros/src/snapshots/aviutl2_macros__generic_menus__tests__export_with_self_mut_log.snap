---
source: crates/aviutl2-macros/src/generic_menus.rs
expression: format_tokens(output)
---
impl MyPlugin {
    fn export_menu(&mut self, edit: &mut ::aviutl2::generic::EditSection) -> Result<(), ()> {
        let _ = edit;
        Ok(())
    }
}
::aviutl2::__internal_module! {
    impl ::aviutl2::generic::GenericPluginMenus for MyPlugin {
        fn register_menus(host: &mut ::aviutl2::generic::HostAppHandle) {
            host.register_export_menu("MyExport", bridge_export_menu);
            return;
            fn bridge_export_menu() {
                if let Err(panic_info) = ::aviutl2::__catch_unwind_with_panic_info(|| {
                    <MyPlugin as ::aviutl2::generic::GenericPlugin>::with_instance_mut(|__self| {
                        let ret = <MyPlugin>::export_menu(__self);
                        ::aviutl2::common::__log_and_beep_if_error(ret);
                    });
                }) {
                    ::aviutl2::log::error!(
                        "Panic occurred during {}: {}",
                        "export_menu",
                        panic_info
                    );
                }
            }
        }
    }
}
